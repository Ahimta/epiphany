2003-01-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* src/ephy-spinner-action.c: (create_tool_item):
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_finalize),
	(ephy_tab_get_event), (ephy_tab_set_event),
	(ephy_tab_show_embed_popup), (ephy_tab_dom_mouse_down_cb):
	* src/ephy-tab.h:
	* src/ephy-window.c: (setup_window), (ephy_window_init),
	(ephy_window_finalize), (ephy_window_get_active_embed):
	* src/ephy-window.h:
	* src/popup-commands.c: (get_event_info),
	(popup_cmd_link_in_new_window), (popup_cmd_link_in_new_tab),
	(popup_cmd_image_in_new_tab), (popup_cmd_image_in_new_window),
	(popup_cmd_add_link_bookmark), (popup_cmd_frame_in_new_tab),
	(popup_cmd_frame_in_new_window), (popup_cmd_copy_to_clipboard),
	(popup_cmd_copy_page_location), (popup_cmd_copy_email),
	(popup_cmd_copy_link_location), (save_property_url),
	(popup_cmd_open_link), (popup_cmd_download_link),
	(popup_cmd_save_image_as), (background_download_completed),
	(popup_cmd_set_image_as_background),
	(popup_cmd_copy_image_location), (popup_cmd_save_background_as),
	(popup_cmd_open_frame), (popup_cmd_open_image):
	* src/popup-commands.h:

	Implement context menus

2003-01-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_expose):
	* src/ephy-favicon-action.c: (create_tool_item),
	(each_url_get_data_binder), (favicon_drag_data_get_cb),
	(ephy_favicon_action_sync_icon), (connect_proxy),
	(ephy_favicon_action_set_property),
	(ephy_favicon_action_get_property),
	(ephy_favicon_action_class_init), (ephy_favicon_action_init):
	* src/ephy-favicon-action.h:
	* src/ephy-location-action.c: (ephy_location_action_get_widget):
	* src/ephy-location-action.h:
	* src/ephy-navigation-action.c:
	* src/ephy-spinner-action.c: (ephy_spinner_action_sync_throbbing),
	(create_tool_item), (connect_proxy),
	(ephy_spinner_action_set_property),
	(ephy_spinner_action_get_property),
	(ephy_spinner_action_class_init), (ephy_spinner_action_init):
	* src/ephy-spinner-action.h:
	* src/ephy-window.c: (setup_window), (update_nav_control):
	* src/toolbar.c: (toolbar_setup_actions),
	(toolbar_activate_location), (toolbar_spinner_start),
	(toolbar_spinner_stop), (toolbar_set_location),
	(toolbar_update_favicon), (toolbar_get_location),
	(toolbar_update_navigation_actions):
	* src/toolbar.h:

	Complete toolbar implementation.

2003-01-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-gui.c: (ephy_gui_menu_position_under_widget):
	* lib/widgets/ephy-arrow-toolbutton.c: (popup_menu_under_arrow):
	* src/ephy-location-action.c: (create_tool_item),
	(location_url_activate_cb), (connect_proxy),
	(ephy_location_action_class_init):
	* src/ephy-location-action.h:
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):
	* src/ephy-spinner-action.c: (create_tool_item):
	* src/toolbar.c: (toolbar_setup_widgets), (go_location_cb),
	(toolbar_setup_actions):
	
	Make location and navigation buttons works correctly.

2003-01-18  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/Makefile.am:
	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-arrow-toolbutton.c:
	(ephy_arrow_toolbutton_get_type),
	(ephy_arrow_toolbutton_class_init), (button_state_changed_cb),
	(popup_menu_under_arrow), (menu_deactivated_cb),
	(arrow_button_press_event_cb), (arrow_key_press_event_cb),
	(ephy_arrow_toolbutton_init), (ephy_arrow_toolbutton_finalize),
	(ephy_arrow_toolbutton_get_menu):
	* lib/widgets/ephy-arrow-toolbutton.h:
	* src/Makefile.am:
	* src/ephy-navigation-action.c: (ephy_navigation_action_get_type),
	(new_history_menu_item), (activate_back_or_forward_menu_item_cb),
	(activate_up_menu_item_cb), (setup_back_or_forward_menu),
	(setup_up_menu), (menu_activated_cb), (connect_proxy),
	(ephy_navigation_action_set_property),
	(ephy_navigation_action_get_property),
	(ephy_navigation_action_class_init), (ephy_navigation_action_init):
	* src/ephy-navigation-action.h:
	* src/ephy-window.c: (ephy_window_init):
	* src/toolbar.c: (toolbar_setup_actions), (toolbar_set_window),
	(toolbar_init):

	Implement back/forward

2003-01-17  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/Makefile.am:
	* data/ui/epiphany-ui.xml.in:
	* src/Makefile.am:
	* src/ephy-window.c: (add_widget), (setup_window),
	(ephy_window_init), (ephy_window_set_chrome):
	* src/toolbar.c: (toolbar_setup_widgets), (add_widget),
	(toolbar_set_window), (toolbar_setup_actions), (toolbar_init),
	(toolbar_finalize), (toolbar_set_visibility):

	Make some toolbar widgets work again

2003-01-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/ui/Makefile.am:
	* data/ui/epiphany-ui.xml.in:
	* embed/mozilla/GlobalHistory.cpp:
	* lib/Makefile.am:
	* src/Makefile.am:
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_init),
	(ephy_favorites_menu_clean), (ephy_favorites_menu_finalize_impl),
	(ephy_favorites_menu_set_property), (ephy_favorites_menu_rebuild):
	* src/ephy-favorites-menu.h:
	* src/ephy-nautilus-view.c: (gnv_bonobo_control_activate_cb),
	(gnv_popup_cmd_frame_in_new_window):
	* src/ephy-window.c: (add_widget), (setup_window),
	(setup_popup_factory), (ephy_window_init), (ephy_window_finalize),
	(ephy_window_set_chrome), (ephy_window_activate_location),
	(update_status_message), (update_progress), (update_security),
	(update_nav_control), (update_location_control),
	(update_favicon_control), (update_spinner_control),
	(save_old_embed_status), (ephy_window_get_toolbar):
	* src/ppview-toolbar.c: (ppview_toolbar_set_window),
	(ppview_toolbar_init), (ppview_toolbar_finalize),
	(toolbar_update_sensitivity), (toolbar_cmd_ppv_goto_first),
	(toolbar_cmd_ppv_goto_last), (toolbar_cmd_ppv_go_back),
	(toolbar_cmd_ppv_go_forward), (toolbar_cmd_ppv_close):
	* src/ppview-toolbar.h:
	* src/statusbar.c: (statusbar_get_type), (statusbar_class_init),
	(create_statusbar_security_icon), (create_statusbar_progress),
	(statusbar_init), (statusbar_new), (statusbar_set_message):
	* src/statusbar.h:
	* src/toolbar.c: (toolbar_get_type), (toolbar_class_init),
	(toolbar_setup_favicon), (toolbar_setup_location_entry),
	(toolbar_set_window), (toolbar_init), (toolbar_finalize),
	(toolbar_set_visibility), (toolbar_button_set_sensitive),
	(toolbar_get_location):
	* src/toolbar.h:
	* src/window-commands.c:
	* src/window-commands.h:

	More menu work ...

2003-01-14  Marco Pesenti Gritti  <marco@it.gnome.org>
	
	* src/ephy-window.c:
	* src/ephy-window.h:
	* src/window-commands.c:
	* src/window-commands.h:

	Some work on the new menu stuff

2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp:
	* src/general-prefs.c: (create_default_charset_menu):

	Dont crash when schemas installed incorrectly

2003-01-13  Alex Duggan  <aldug@gnome.org>
	
	* configure.in:
	* embed/mozilla/ExternalProtocolService.cpp:
	* embed/mozilla/ExternalProtocolService.h:
	* embed/mozilla/FilePicker.h:
	* embed/mozilla/FtpProtocolHandler.h:
	* embed/mozilla/IRCProtocolHandler.h:
	* embed/mozilla/MailtoProtocolHandler.h:
	* embed/mozilla/PrintingPromptService.h:
	* embed/mozilla/PromptService.cpp:
	* embed/mozilla/PromptService.h:
	* embed/mozilla/StartHereProtocolHandler.h:
	* idl/EphyAutomation.idl:
	
	s/Galeon/Epiphany/
	
2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_save), (hosts_added_cb),
	(hosts_removed_cb), (ephy_history_finalize),
	(ephy_history_host_set_title), (ephy_history_host_visited),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_add_page), (ephy_history_set_page_title):
	* src/ephy-history-model.c: (ephy_history_model_get_value):
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):

	Use the title also for hosts in history.
	Cleanup hosts matching code a lot.

2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_get):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_set_icon):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_finalize),
	(ephy_new_bookmark_add), (ephy_new_bookmark_init),
	(ephy_new_bookmark_set_smarturl), (ephy_new_bookmark_set_icon):
	* src/bookmarks/ephy-new-bookmark.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_add_column),
	(ephy_node_view_add_icon_column):
	* src/bookmarks/ephy-node-view.h:
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_column_type), (get_icon_pixbuf),
	(ephy_tree_model_node_get_value),
	(ephy_tree_model_node_column_get_type):
	* src/bookmarks/ephy-tree-model-node.h:
	* src/ephy-history-model.c: (ephy_history_model_get_value):
	* src/ephy-navigation-button.c: (setup_back_or_forward_menu):
	* src/ephy-tab.c: (ephy_tab_favicon_cb):
	* src/window-commands.c: (window_cmd_bookmarks_add_default):

	Use favicons in bookmarks.
	Use titles for session history when possible.

2003-01-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-window.c: (update_favicon_control):

	correctly update window icon when the page doesnt
	specify any favicon url.

2003-01-12  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in (ALL_LINGUAS): Added "no".

2003-01-12  Kenneth Christiansen  <kenneth@gnu.org>

	* configure.in: Added da to ALL_LINGUAS

2003-01-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:

	0.4.2 Release. Switch configure.in to 0.5.0.

	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/PrintingPromptService.cpp:
	* embed/mozilla/mozilla-embed.cpp:

	Remove some stupid printf.

2003-01-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* doc/debugging.txt:
	* embed/ephy-embed-utils.c:
	(ephy_embed_utils_build_charsets_submenu):
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_init):
	* embed/ephy-history.c: (ephy_history_save):
	* embed/mozilla/mozilla-embed.cpp:
	* lib/ephy-autocompletion.c: (ephy_autocompletion_reset),
	(ephy_autocompletion_get_common_prefix),
	(ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full),
	(ephy_autocompletion_sort_by_score),
	(ephy_autocompletion_data_changed_cb), (acma_grow):
	* lib/ephy-debug.c: (log_module), (ephy_debug_init),
	(ephy_profiler_new), (ephy_should_profile), (ephy_profiler_dump),
	(ephy_profiler_free), (ephy_profiler_start), (ephy_profiler_stop):
	* lib/ephy-debug.h:
	* lib/ephy-filesystem-autocompletion.c:
	(ephy_filesystem_autocompletion_finalize_impl),
	(gfa_load_directory_cb),
	(ephy_filesystem_autocompletion_set_current_dir),
	(ephy_filesystem_autocompletion_set_base_dir):
	* lib/ephy-start-here.c:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_key_press_cb):
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_finalize_impl),
	(ephy_location_entry_autocompletion_show_alternatives_to),
	(ephy_location_entry_autocompletion_to),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_autocompletion_sources_changed_cb),
	(ephy_location_entry_autocompletion_window_url_activated_cb),
	(ephy_location_entry_autocompletion_window_hidden_cb):
	* src/bookmarks/ephy-bookmarks-editor.c:
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords), (ephy_bookmarks_save),
	(ephy_bookmarks_find_keyword), (diff_keywords):
	* src/bookmarks/ephy-keywords-entry.c: (try_to_expand_keyword):
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_set_title):
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_rebuild):
	* src/ephy-nautilus-view.c: (gnv_cmd_set_charset), (if):
	* src/ephy-navigation-button.c:
	(ephy_navigation_button_finalize_impl):
	* src/ephy-shell.c: (ephy_shell_finalize):
	* src/ephy-tab.c: (ephy_tab_embed_destroy_cb), (ephy_tab_finalize):
	* src/ephy-tbi.c: (ephy_tbi_finalize_impl):
	* src/ephy-window.c: (ephy_window_finalize):
	* src/toolbar.c: (toolbar_get_widgets):

	Implement profiler helpers. Complete ephy-debug
	implementation and document it.
	Fixup all the damned DEBUG_MSG mess. toolbar/ is
	still borked since I'm not mantaining that code atm (just
	keeping it updated with galeon).

2003-01-12  Andras Timar  <timar@gnome.hu>

	* configure.in: Added de, hu and nl to ALL_LINGUAS.

2003-01-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_download):
	* embed/ephy-history.c:
	* lib/Makefile.am:
	* lib/ephy-types.h:
	* src/bookmarks/ephy-bookmarks.c:
	* src/ephy-shell.c: (ephy_shell_init):

	Move root nodes ids to ephy-types.
	Simple logging facility:
	EPHY_DEBUG_MODULES= all | filename
	will enable it.
	Need to provide a way to disable it and to get rid
	of the old per file crap.

2003-01-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/Makefile.am:
	* embed/ephy-embed-favicon.c:
	* embed/ephy-embed-favicon.h:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_get_favicon_cache):
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_class_init),
	(ephy_favicon_cache_new), (ephy_favicon_cache_load),
	(icon_is_obsolete), (icons_added_cb), (icons_removed_cb),
	(remove_obsolete_icons), (ephy_favicon_cache_save),
	(ephy_favicon_cache_init), (kill_download),
	(cleanup_downloads_hash), (ephy_favicon_cache_finalize),
	(favicon_name_build), (favicon_download_completed_cb),
	(ephy_favicon_cache_download), (ephy_favicon_cache_get):
	* embed/ephy-favicon-cache.h:
	* embed/ephy-favicon.c:
	* embed/ephy-favicon.h:
	* embed/mozilla/mozilla-embed-shell.cpp:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_favicon_cb),
	(ephy_tab_location_cb), (ephy_tab_get_location),
	(ephy_tab_get_favicon_url):
	* src/ephy-tab.h:
	* src/ephy-window.c: (update_favicon_control):
	* src/toolbar.c: (toolbar_setup_favicon_ebox),
	(toolbar_update_favicon):

	Reimplement favicons. Now all exit crashes related
	to connections left open by favicons should be fixed.

2003-01-11  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-persist.c: (ephy_embed_persist_cancel):
	* embed/ephy-embed-persist.h:
	* embed/mozilla/ProgressListener.cpp:
	* embed/mozilla/mozilla-embed-persist.cpp:
	* embed/mozilla/mozilla-embed-persist.h:

	Implement a cancel api. Fix refcount to really destroy
	the WebPersist object when done.

2003-01-10  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_insert_from_url):

	Download favicon only when it's not already on disk. As side effect
	avoid most crashes on exit. Still need to really fix that.

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:

	Fix schemas build.

	* embed/mozilla/mozilla-embed-persist.cpp:

	Api change grrrr.

2003-01-09  Lee Willis <lwillis@plus.net>

	* embed/mozilla/FilePicker.cpp:
	
	Destroy "Invalid path dialog" correctly 

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/Makefile.am:
	* data/epiphany.desktop.in:
	* data/ui/epiphany-ui.xml.in:
	* embed/ephy-embed-popup.c: (embed_popup_open_link_cmd):
	* src/ephy-main.c: (main):
	* src/window-commands.c: (window_cmd_set_charset):

	Rehash link context menu order to be hig compliant.
	Set a desktop icon.

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/ephy-tab.c: (ephy_tab_location_cb):

	Reset link message when changing page.

2003-01-09  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-history.c: (ephy_history_init):
	* embed/mozilla/FilePicker.cpp:
	* lib/ephy-node.c: (ephy_node_new_with_id),
	(ephy_node_system_init):
	* lib/ephy-node.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_init):

	Extend ephy node to allow some reversed ids.
	Use it for base bookmarks/history elements, should
	fix bookmarks lossage.
	Fix filepicker initialization.

2003-01-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* data/starthere/Makefile.am:
	* data/starthere/index.xml.in:
	* data/starthere/section.xsl:
	* data/starthere/smartbookmarks.xml.in:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_class_init):
	* embed/ephy-embed-shell.h:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* po/POTFILES.in:
	* src/ephy-shell.c: (ephy_shell_command_cb), (ephy_shell_init):

	More start here page work, importing bookmarks from mozilla
	now should work.

2003-01-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/starthere/Makefile.am:
	* data/starthere/index.xml.in:
	* data/starthere/section.css:
	* data/starthere/section.xsl:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* embed/mozilla/mozilla-embed-shell.cpp:
	* lib/ephy-file-helpers.c: (ephy_ensure_dir_exists),
	(ephy_find_file_recursive), (ephy_file_find):
	* lib/ephy-file-helpers.h:
	* lib/ephy-start-here.c: (ephy_start_here_init),
	(ephy_start_here_finalize), (is_my_lang), (mozilla_bookmarks),
	(attach_content), (build_content), (ephy_start_here_get_page),
	(ephy_start_here_get_base_uri):
	* lib/ephy-start-here.h:

	More work on the start here page.

2003-01-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/Makefile.am:
	* data/start_here.html:
	* data/starthere/Makefile.am:
	* data/starthere/index.xml.in:
	* data/starthere/section.xsl:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* lib/Makefile.am:
	* lib/widgets/ephy-autocompletion-window.c:
	(hack_tree_view_move_selection):
	* po/POTFILES.in:

	Architecture for translatable xml/xsl start page.

2003-01-06  Vincent Untz  <vincent@vuntz.net>

	* lib/widgets/ephy-autocompletion-window.c: declare all variables
	before the first instruction.

2003-01-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/mozilla-embed.cpp:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_link_message_cb),
	(ephy_tab_get_status_message):

	Make sure event listener is ever attached.
	Never allow to override statusbar messages.

2003-01-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/Makefile.am:
	* data/art/epiphany.png:
	* data/epiphany.schemas.in:
	* data/glade/epiphany.glade:
	* embed/downloader-view.c: (downloader_view_init),
	(downloader_view_finalize):
	* embed/ephy-embed-favicon.c: (ephy_embed_favicon_set_property):
	* embed/ephy-embed-shell.c: (ephy_embed_shell_get_impl),
	(ephy_embed_shell_get_type), (ephy_embed_shell_new):
	* embed/ephy-embed-shell.h:
	* embed/ephy-embed-utils.c:
	(ephy_embed_utils_build_charsets_submenu):
	* embed/mozilla/mozilla-embed-persist.cpp:
	* embed/mozilla/mozilla-embed.cpp:
	* src/appearance-prefs.c: (setup_font_menu):
	* src/bookmarks/ephy-bookmarks.c: (compute_lower_fav),
	(ephy_setup_history_notifiers):
	* src/ephy-main.c: (main):
	* src/ephy-nautilus-view.c: (ephy_nautilus_view_instance_init):
	* src/ephy-shell.c: (ephy_shell_get_type), (ephy_shell_init),
	(ephy_shell_finalize), (build_homepage_url),
	(ephy_shell_get_autocompletion):
	* src/ephy-shell.h:
	* src/ephy-tab.c: (ephy_tab_init), (ephy_tab_location_cb),
	(ephy_tab_visibility_cb):
	* src/ephy-window.c: (favicon_cache_changed_cb),
	(ephy_window_init), (update_favicon_control):
	* src/general-prefs.c: (create_default_charset_menu):
	* src/history-dialog.c: (history_dialog_init):
	* src/pdm-dialog.c: (pdm_dialog_cookie_remove),
	(pdm_dialog_password_remove), (pdm_dialog_cookies_free),
	(pdm_dialog_passwords_free), (pdm_dialog_init):
	* src/prefs-dialog.c: (prefs_clear_memory_cache_button_clicked_cb),
	(prefs_clear_disk_cache_button_clicked_cb):
	* src/window-commands.c: (window_cmd_file_open):

	Make GaleonShell inherit from GaleonEmbedShell.
	Ref the shell when using the downloader.
	Use favicons for the window icon when possible.
	This required to use jimmac icon as default,
	we still dont have his permission, I'll remove it
	later if necessary.

2003-01-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-favicon.c: (update_url), (location_changed_cb),
	(ephy_embed_favicon_set_property):
	* src/toolbar.c: (toolbar_update_favicon):

	Really update favicon when switching tab.

2003-01-04  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/mozilla/PromptService.cpp:
	* embed/mozilla/mozilla-embed-persist.cpp:
	* lib/toolbar/ephy-tbi-zoom.c: (ephy_tbi_zoom_get_widget_impl):
	* lib/widgets/ephy-notebook.c: (tab_build_label):
	* src/bookmarks/ephy-bookmarks-editor.c: (build_editing_table),
	(build_search_box):
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	* src/ephy-window.c: (ephy_window_notebook_switch_page_cb):
	* src/pdm-dialog.c: (show_cookies_properties):
	* src/session.c: (crashed_resume_dialog):

	Remove unnecessary markup from translations.

2003-01-02  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-string.c: (ephy_str_replace_substring):
	* lib/ephy-string.h:
	* lib/widgets/eggtreemultidnd.c:
	(egg_tree_multi_drag_motion_event):
	* src/bookmarks/Makefile.am:

	Use gtk icons for dnd.
	Basic implementation of bookmarks importing. Still
	not used but functional.

2003-01-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/Makefile.am:
	* embed/ephy-embed-favicon.c: (location_changed_cb), (favicon_cb):
	* embed/ephy-embed-popup.c: (embed_popup_copy_location_cmd),
	(embed_popup_save_page_as_cmd), (embed_popup_open_frame_cmd):
	* embed/ephy-embed-shell.c: (ephy_embed_shell_free_cookies):
	* embed/ephy-embed-shell.h:
	* embed/ephy-embed-utils.c: (ephy_embed_utils_save):
	* embed/ephy-embed.c: (ephy_embed_get_location),
	(ephy_embed_shistory_copy):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-shell.cpp:
	* embed/mozilla/mozilla-embed.cpp:
	* lib/Makefile.am:
	* lib/toolbar/Makefile.am:
	* lib/widgets/Makefile.am:
	* src/Makefile.am:
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table):
	* src/ephy-nautilus-view.c: (gnv_embed_location_cb),
	(gnv_popup_cmd_frame_in_new_window):
	* src/ephy-shell.c: (build_homepage_url):
	* src/ephy-tab.c: (ephy_tab_location_cb):
	* src/pdm-dialog.c: (pdm_dialog_cookie_add):
	* src/popup-commands.c: (popup_cmd_frame_in_new_tab),
	(popup_cmd_frame_in_new_window):

	Cleanup unused code.
	Reorder build.
	In new bookmark dialog enter activate ok.

2003-01-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_clear),
	(ephy_history_remove):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords):
	* src/ephy-history-model.c: (get_one_level_path_real),
	(get_path_real), (root_child_removed_cb):

	Rewrite ephy node multiple removals to actually
	work.

2003-01-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* data/glade/epiphany.glade:
	* embed/ephy-history.c: (page_is_obsolete),
	(remove_obsolete_pages), (periodic_save_cb), (ephy_history_init),
	(ephy_history_finalize), (ephy_history_clear),
	(ephy_history_get_last_page), (ephy_history_remove):
	* embed/ephy-history.h:
	* lib/toolbar/ephy-tb-button.c: (button_state_changed_cb),
	(ephy_tb_button_set_show_arrow), (ephy_tb_button_set_enable_menu):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_add):
	* src/history-dialog.c: (get_date_filter):

	Save history every 5 minutes, drop items older than 30 days,
	fix Clear. Better prelight for navigation buttons.

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* data/.cvsignore:
	* data/Makefile.am:

	Build .in data files from the makefile,
	not from configure.in.
	Add a desktop file. We badly need an icon ;)

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/toolbar/ephy-tbi-favicon.c:
	(ephy_tbi_favicon_add_to_bonobo_tb_impl):
	* lib/toolbar/ephy-tbi-spinner.c:
	(ephy_tbi_spinner_add_to_bonobo_tb_impl):
	* lib/toolbar/ephy-tbi-zoom.c:
	(ephy_tbi_zoom_add_to_bonobo_tb_impl):

	Use normal widgets instead of bonobo controls.

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/FilePicker.h:
	* embed/mozilla/mozilla-embed-shell.cpp:

	Resync with galeon.

	* data/epiphany.schemas.in:
	* lib/ephy-bonobo-extensions.c: (ephy_bonobo_add_numbered_widget):
	* lib/ephy-bonobo-extensions.h:
	* lib/toolbar/Makefile.am:
	* lib/toolbar/ephy-tbi-std-toolitem.c:
	(ephy_tbi_std_toolitem_init),
	(ephy_tbi_std_toolitem_get_icon_impl),
	(ephy_tbi_std_toolitem_get_name_human_impl),
	(ephy_tbi_std_toolitem_to_string_impl),
	(ephy_tbi_std_toolitem_add_to_bonobo_tb_impl),
	(ephy_tbi_std_toolitem_parse_properties_impl),
	(ephy_tbi_std_toolitem_set_item):
	* lib/toolbar/ephy-tbi-std-toolitem.h:
	* lib/toolbar/ephy-toolbar-item-factory.c:
	(ephy_tb_item_factory_init),
	(ephy_toolbar_item_create_from_string),
	(ephy_toolbar_item_register_type):
	* lib/toolbar/ephy-toolbar-item-factory.h:
	* src/Makefile.am:
	* src/toolbar.c: (toolbar_class_init), (toolbar_set_property),
	(toolbar_get_widgets), (toolbar_init), (toolbar_finalize),
	(toolbar_navigation_button_set_sensitive),
	(toolbar_button_set_sensitive):
	* src/window-commands.c:

	Resync with galeon. Now we use a widget for navigation
	buttons.

2002-12-31  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/prefs-dialog.glade:
	
	Remove hidden filtering page.

	* embed/ephy-history.c:
	(ephy_history_autocompletion_source_foreach), (ephy_history_init),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_get_page_visits):
	* lib/ephy-autocompletion.c: (ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full_item):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):

	Fix memory corruption in bookmarks refine.
	Implement history autocompletion score.
	Smarter host matching code.
	Add some sanity checks.

2002-12-31  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2002-12-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_dest),
	(ephy_favicon_cache_insert_from_url),
	(favicon_download_completed_cb):
	* lib/ephy-dnd.c: (ephy_dnd_enable_model_drag_source):
	* lib/ephy-dnd.h:
	* lib/widgets/eggtreemultidnd.c:
	(egg_tree_multi_drag_source_drag_data_get),
	(egg_tree_multi_drag_drag_data_get):
	* lib/widgets/eggtreemultidnd.h:
	* lib/widgets/ephy-tree-model-sort.c:
	(ephy_tree_model_sort_multi_drag_data_delete),
	(each_url_get_data_binder),
	(ephy_tree_model_sort_multi_drag_data_get):
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_enable_drag_source):
	* src/bookmarks/ephy-node-view.h:
	* src/history-dialog.c: (history_dialog_setup_view):

	Use ephy-dnd for tree model too.
	Fix favicons.

2002-12-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* lib/widgets/eggtreemodelfilter.c:
	(egg_tree_model_filter_build_level):
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_show), (hack_tree_view_move_selection),
	(ephy_autocompletion_window_key_press_hack),
	(ephy_autocompletion_window_key_press_cb),
	(ephy_autocompletion_window_hide):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords), (bookmarks_removed_cb):
	* src/bookmarks/ephy-new-bookmark.c: (build_editing_table),
	(ephy_new_bookmark_construct):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_finalize):
	* src/history-dialog.c: (history_dialog_finalize):

	Fix some bookmarks crashes.
	Cycle between the two views in autocompletion when
	moving with keys.

2002-12-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* lib/ephy-dnd.h:
	* lib/ephy-marshal.c: (ephy_marshal_VOID__POINTER_POINTER):
	* lib/ephy-marshal.h:
	* lib/ephy-marshal.list:
	* lib/widgets/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_new):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_row_activated_cb), (node_from_sort_iter_cb),
	(ephy_node_view_construct), (ephy_node_view_add_column),
	(get_selection), (ephy_node_view_select_node),
	(ephy_node_view_enable_drag_source):
	* src/bookmarks/ephy-node-view.h:
	* src/history-dialog.c: (add_column),
	(history_view_row_activated_cb), (node_from_sort_iter_cb),
	(history_dialog_setup_view):

	Implement column sorting / drag and drop for history
	and bookmarks.

2002-12-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/epiphany.glade:
	* embed/ephy-history.c: (hosts_added_cb), (hosts_removed_cb),
	(ephy_history_add_host), (ephy_history_add_page),
	(ephy_history_set_page_title):
	* embed/ephy-history.h:
	* src/bookmarks/ephy-node-filter.c:
	(ephy_node_filter_expression_evaluate):
	* src/ephy-history-model.c: (get_one_level_path_real),
	(get_path_real), (ephy_history_model_get_path),
	(get_property_as_date), (ephy_history_model_get_value),
	(ephy_history_model_update_node), (root_child_removed_cb),
	(root_child_added_cb):
	* src/history-dialog.c: (history_view_row_activated_cb),
	(history_dialog_setup_view), (get_date_filter),
	(history_dialog_setup_filter), (history_dialog_init),
	(history_dialog_new_with_parent):

	Reimplement filtering, fix a few bugs. Please remove
	ephy-history.xml again, should be the last time, sorry.

2002-12-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_add_page):
	* src/ephy-history-model.c: (get_one_level_path_real),
	(get_path_real), (ephy_history_model_get_path),
	(ephy_history_model_update_node), (root_child_removed_cb),
	(root_child_added_cb):

	Update the model correctly when the history changes.

2002-12-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_add_host):

	Fix memory corruption. The history now should work
	better but please kill ephy-history.xml or you could
	get crashes.

2002-12-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-history.c: (ephy_history_init),
	(ephy_history_add_page), (ephy_history_clear),
	(ephy_history_get_hosts), (ephy_history_get_pages):
	* embed/ephy-history.h:
	* src/Makefile.am:
	* src/ephy-history-model.c: (ephy_history_model_get_type),
	(ephy_history_model_class_init), (ephy_history_model_init),
	(ephy_history_model_finalize), (filter_changed_cb),
	(ephy_history_model_set_property),
	(ephy_history_model_get_property), (ephy_history_model_new),
	(ephy_history_model_tree_model_init),
	(ephy_history_model_get_flags), (ephy_history_model_get_n_columns),
	(ephy_history_model_get_column_type),
	(ephy_history_model_get_iter), (ensure_iter), (get_parent_node),
	(get_path_real), (ephy_history_model_get_path),
	(ephy_history_model_get_host_value),
	(ephy_history_model_get_value), (ephy_history_model_iter_next),
	(ephy_history_model_iter_children),
	(ephy_history_model_iter_has_child),
	(ephy_history_model_iter_n_children),
	(ephy_history_model_iter_nth_child),
	(ephy_history_model_iter_parent),
	(ephy_history_model_node_from_iter),
	(ephy_history_model_iter_from_node),
	(ephy_history_model_update_node), (root_child_removed_cb),
	(root_child_added_cb), (root_child_changed_cb),
	(ephy_history_model_column_get_type):
	* src/ephy-history-model.h:
	* src/history-dialog.c: (add_column), (history_dialog_setup_view),
	(history_dialog_init):

	Implement an history model and use it.

2002-12-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:
	* embed/Makefile.am:
	* embed/ephy-embed-favicon.c: (location_changed_cb),
	(ephy_embed_favicon_set_property):
	* embed/ephy-embed-shell.c: (ephy_embed_shell_init),
	(ephy_embed_shell_finalize), (ephy_embed_shell_get_favicon_cache),
	(impl_get_global_history):
	* embed/ephy-embed-shell.h:
	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_set_property),
	(ephy_favicon_cache_get_property), (ephy_favicon_cache_class_init),
	(ephy_favicon_cache_init), (ephy_favicon_cache_finalize),
	(ephy_favicon_cache_new), (ephy_favicon_cache_lookup),
	(ephy_favicon_cache_lookup_direct), (ephy_favicon_cache_insert),
	(ephy_favicon_cache_dest):
	* embed/ephy-favicon-cache.h:
	* embed/ephy-favicon.c: (cache_changed_cb):
	* embed/ephy-history.c: (ephy_history_get_type),
	(ephy_history_autocompletion_source_set_basic_key),
	(ephy_history_autocompletion_source_foreach),
	(ephy_history_emit_data_changed),
	(ephy_history_autocompletion_source_init),
	(ephy_history_class_init), (ephy_history_load),
	(ephy_history_save), (hosts_added_cb), (hosts_removed_cb),
	(pages_added_cb), (pages_removed_cb), (ephy_history_init),
	(ephy_history_finalize), (ephy_history_new),
	(ephy_history_add_host), (ephy_history_visited),
	(ephy_history_get_page_visits), (ephy_history_add_page),
	(ephy_history_get_page), (ephy_history_is_page_visited),
	(ephy_history_set_page_title), (ephy_history_clear),
	(ephy_history_get_root), (ephy_history_get_last_page):
	* embed/ephy-history.h:
	* embed/global-history.c:
	* embed/global-history.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/GlobalHistory.cpp:
	* lib/Makefile.am:
	* lib/ephy-node.c: (ephy_node_get_type), (ephy_node_class_init),
	(int_equal), (int_hash), (ephy_node_init), (ephy_node_finalize),
	(remove_child), (ephy_node_dispose),
	(ephy_node_set_object_property), (ephy_node_get_object_property),
	(ephy_node_new), (ephy_node_get_id), (node_from_id_real),
	(ephy_node_get_from_id), (ephy_node_ref), (ephy_node_unref),
	(ephy_node_freeze), (ephy_node_thaw), (child_changed),
	(real_set_property), (ephy_node_set_property),
	(ephy_node_get_property), (ephy_node_get_property_string),
	(ephy_node_get_property_boolean), (ephy_node_get_property_long),
	(ephy_node_get_property_int), (ephy_node_get_property_double),
	(ephy_node_get_property_float), (ephy_node_get_property_node),
	(ephy_node_get_property_time), (save_parent),
	(ephy_node_save_to_xml), (ephy_node_new_from_xml),
	(real_add_child), (ephy_node_add_child), (real_remove_child),
	(ephy_node_remove_child), (ephy_node_has_child),
	(ephy_node_get_children), (ephy_node_get_n_children),
	(ephy_node_get_nth_child), (get_child_index_real),
	(ephy_node_get_child_index), (ephy_node_get_next_child),
	(ephy_node_get_previous_child), (ephy_node_system_init),
	(ephy_node_system_shutdown), (ephy_node_new_id),
	(id_factory_set_to), (write_lock_to_read_lock),
	(read_lock_to_write_lock), (lock_gdk), (unlock_gdk):
	* lib/ephy-node.h:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c: (get_history_item_score),
	(compute_lower_fav), (add_to_favorites), (history_site_visited_cb),
	(ephy_setup_history_notifiers), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize):
	* src/bookmarks/ephy-node.c:
	* src/bookmarks/ephy-node.h:
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_finalize),
	(build_homepage_url), (ephy_shell_get_autocompletion):
	* src/ephy-shell.h:
	* src/history-dialog.c: (history_dialog_setup_view),
	(history_dialog_setup_filter), (history_dialog_init),
	(history_dialog_set_embedded), (history_dialog_finalize),
	(history_host_checkbutton_toggled_cb), (history_entry_changed_cb),
	(history_time_optionmenu_changed_cb),
	(history_clear_button_clicked_cb):

	Rewrite the history using ephy node.
	Use the history to store favicons locations.

2002-12-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed-favicon.c: (net_state_cb), (favicon_cb):

	fix some bugs

2002-12-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/ephy-embed-favicon.c: (net_state_cb), (favicon_cb),
	(ephy_embed_favicon_set_property),
	(ephy_embed_favicon_get_property), (ephy_embed_favicon_get_embed):
	* embed/ephy-embed.c: (ephy_embed_base_init),
	(ephy_embed_get_link_tags):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed.cpp:

	Make favicons work :)

2002-12-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* embed/find-dialog.c: (find_dialog_go_next),
	(find_dialog_go_prev):
	* lib/ephy-autocompletion.c:
	(ephy_autocompletion_get_matches_sorted_by_score),
	(ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full),
	(ephy_autocompletion_sort_by_score):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show):
	* src/popup-commands.c: (popup_cmd_add_bookmark):

	Fix a regression in find dialog.
	Fix autocompletion flickering

2002-12-25  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/find-dialog.c: (find_dialog_go_next),
	(find_dialog_go_prev):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):

	Fix crash on find next.
	Fix crash on autocompletion.

2002-12-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(keyword_node_selected_cb), (ephy_bookmarks_editor_construct):

	Regression fixed.

2002-12-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c: (keywords_changed_cb),
	(keywords_removed_cb), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_add),
	(ephy_bookmarks_unset_keyword), (diff_keywords),
	(ephy_bookmarks_update_keywords):
	* src/bookmarks/ephy-bookmarks.h:
	* src/window-commands.c: (window_cmd_bookmarks_add_default):

	Implement a small dialog asking title/keywords when adding
	bookmarks.
	(Regression: removing a selected keyword doesnt work
	anymore, will fix)

2002-12-24  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/epiphany.glade:
	* data/ui/epiphany-ui.xml.in:
	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/FilePicker.h:
	* lib/widgets/Makefile.am:
	* lib/widgets/ephy-sidebar.c:
	* lib/widgets/ephy-sidebar.h:
	* src/ephy-tab.c: (ephy_tab_init), (get_host_name_from_uri):
	* src/ephy-window.c: (update_layout_toggles), (setup_layout_menus),
	(ephy_window_init), (save_window_chrome),
	(translate_default_chrome), (ephy_window_set_chrome),
	(ephy_window_update_all_controls):
	* src/ephy-window.h:
	* src/session.c:

	Drop sidebar and useless bytes progress messages.

2002-12-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_hide):
	* src/session.c: (do_session_resume), (crashed_resume_dialog),
	(session_autoresume):

	fix autocompl bugs.
	Simpler recover dialog.

2002-12-23  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_finalize_impl),
	(ephy_autocompletion_window_init_widgets),
	(ephy_autocompletion_window_set_autocompletion),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_event_after_cb):
	* lib/widgets/ephy-location-entry.c: (ephy_location_ignore_prefix),
	(ephy_location_entry_autocompletion_show_alternatives_to),
	(ephy_location_entry_key_press_event_cb):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):

	Never show an horizontal scrollbar.
	Put a limit to completions, ever show bookmarks / smart
	bookmarks matches. Order bookmarks at the bottom of
	completions.
	Ignore common used web prefixes (like www)

2002-12-22  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-autocompletion.c: (ephy_autocompletion_get_num_matches),
	(ephy_autocompletion_get_num_action_matches),
	(ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches_full_item), (acma_destroy),
	(acma_append):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_init),
	(ephy_autocompletion_window_finalize_impl),
	(ephy_autocompletion_window_selection_changed_cb),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_key_press_hack),
	(ephy_autocompletion_window_key_press_cb),
	(ephy_autocompletion_window_event_after_cb):
	* lib/widgets/ephy-location-entry.c: (ephy_location_entry_init),
	(ephy_location_entry_content_is_text),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_autocompletion_window_url_activated_cb):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach),
	(ephy_bookmarks_save), (ephy_bookmarks_solve_smart_url):
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):
	* src/toolbar.c: (toolbar_location_url_activate_cb):

	Complete smart bookmarks "autocompletion".

2002-12-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-autocompletion.c: (ephy_autocompletion_refine_matches),
	(ephy_autocompletion_update_matches),
	(ephy_autocompletion_update_matches_full_item):
	* lib/ephy-autocompletion.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_class_init),
	(ephy_autocompletion_window_selection_add_selected),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show),
	(ephy_autocompletion_window_key_press_hack),
	(ephy_autocompletion_window_event_after_cb):
	* lib/widgets/ephy-autocompletion-window.h:
	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_class_init),
	(ephy_location_entry_activate_cb),
	(ephy_location_entry_set_autocompletion),
	(ephy_location_entry_autocompletion_window_url_activated_cb),
	(ephy_location_entry_list_event_after_cb):
	* lib/widgets/ephy-location-entry.h:
	* src/bookmarks/ephy-bookmarks.c: (options_skip_spaces),
	(options_find_value_end), (options_find_next_option),
	(smart_url_options_get), (get_smarturl_only),
	(ephy_bookmarks_solve_smart_url):
	* src/bookmarks/ephy-bookmarks.h:
	* src/toolbar.c: (toolbar_location_url_activate_cb),
	(toolbar_setup_location_entry):

	Hide views when empty, fix sizing to deal with
	visibility.
	Make bookmarks open correctly.
	Add some smart bookmarks solving code.

2002-12-21  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/Makefile.am:
	* data/epiphany.schemas.in:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/MozRegisterComponents.cpp:
	* embed/mozilla/StartHereProtocolHandler.cpp:
	* embed/mozilla/StartHereProtocolHandler.h:
	* lib/ephy-gui.c: (shift_color_component),
	(ephy_gui_rgb_shift_color), (rgb16_to_rgb),
	(ephy_gui_gdk_color_to_rgb), (ephy_gui_gdk_rgb_to_color):
	* lib/ephy-gui.h:
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_init_widgets):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_autocompletion_source_foreach):
	* src/popup-commands.c: (popup_cmd_add_bookmark):

	Use a darker color for the actions part of the
	autocompletion window.
	Add a (sucky) start-here: page and use it as
	default homepage.

2002-12-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/global-history.c: (history_add_url_to_list),
	(global_history_get_urls_list),
	(global_history_autocompletion_source_foreach_aux),
	(global_history_autocompletion_source_foreach):
	* lib/ephy-autocompletion-source.c:
	(ephy_autocompletion_source_base_init):
	* lib/ephy-autocompletion-source.h:
	* lib/ephy-autocompletion.c:
	(ephy_autocompletion_get_common_prefix),
	(ephy_autocompletion_update_matches),
	(ephy_autocompletion_update_matches_full_item),
	(ephy_autocompletion_update_matches_full),
	(ephy_autocompletion_compare_scores_and_alpha),
	(ephy_autocompletion_sort_by_score):
	* lib/ephy-autocompletion.h:
	* lib/ephy-filesystem-autocompletion.c:
	(ephy_filesystem_autocompletion_autocompletion_source_foreach):
	* lib/widgets/ephy-autocompletion-window.c:
	(ephy_autocompletion_window_finalize_impl),
	(ephy_autocompletion_window_init_widgets),
	(ephy_autocompletion_window_selection_changed_cb),
	(ephy_autocompletion_window_selection_add_selected),
	(ephy_autocompletion_window_get_dimensions),
	(ephy_autocompletion_window_fill_store_chunk),
	(ephy_autocompletion_window_show):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_type),
	(ephy_bookmarks_autocompletion_source_set_basic_key),
	(ephy_bookmarks_autocompletion_source_foreach),
	(ephy_bookmarks_emit_data_changed),
	(ephy_bookmarks_autocompletion_source_init),
	(bookmarks_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_add):
	* src/bookmarks/ephy-bookmarks.h:
	* src/ephy-shell.c: (ephy_shell_get_autocompletion):
	* src/window-commands.c: (window_cmd_bookmarks_add_default):

	Begin to implement smarter location entry. Now it looks
	for bookmarks/keywords and show them by title.
	Urls are showed just as urls (no more title).
	At the bottom you can select smartbookmarks in a mozilla
	like way (how do you add smb ? just edit xml for now ;)).
	It's still incomplete but prolly it's not going to be all
	the work I thought at beginning.

2002-12-20  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (diff_keywords),
	(update_keywords):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_find_keyword):
	* src/bookmarks/ephy-keywords-entry.c: (try_to_expand_keyword):

	Fix several keywords bugs. Should start to get usable.

2002-12-19  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c: (build_editing_table):
	* src/bookmarks/ephy-bookmarks.c:
	(ephy_bookmarks_clean_empty_keywords), (keywords_added_cb),
	(keywords_removed_cb), (bookmarks_removed_cb),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_find_keyword), (ephy_bookmarks_set_keyword),
	(ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-keywords-entry.c:
	(ephy_keywords_entry_class_init), (try_to_expand_keyword),
	(entry_would_have_inserted_characters),
	(ephy_keywords_entry_key_press), (ephy_keywords_entry_init):
	* src/bookmarks/ephy-keywords-entry.h:

	Complete autocompletion implementation.
	Rewrite keywords removing code. Still bad bugs
	but getting better.

2002-12-16  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c: (update_keywords),
	(keywords_changed_cb), (build_editing_table):
	* src/bookmarks/ephy-bookmarks.c: (keywords_added_cb),
	(keywords_removed_cb), (partial_match_equal),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_find_keyword), (ephy_bookmarks_set_keyword),
	(ephy_bookmarks_unset_keyword):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_select_node):
	* src/bookmarks/ephy-node-view.h:
	
	Fix some keywords bugs and start working on autocompletion

2002-12-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(add_to_favorites), (history_site_visited_cb),
	(ephy_bookmarks_finalize):
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_set_path),
	(ephy_favorites_menu_verb_cb), (ephy_favorites_menu_rebuild),
	(ephy_favorites_menu_update):
	* src/ephy-window.c: (ephy_window_init):

	Make favorites really work

2002-12-15  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* embed/global-history.c: (global_history_get_item):
	* embed/global-history.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(get_history_item_score), (compute_lower_fav),
	(ephy_bookmarks_update_favorites), (add_to_favorites),
	(update_favorites_menus), (history_site_visited_cb),
	(keywords_added_cb), (keywords_removed_cb), (favorites_added_cb),
	(favorites_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_keyword):

	Complete favorites implementation, still buggy.

2002-12-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/ui/epiphany-ui.xml.in:
	* embed/global-history.c: (global_history_class_init),
	(global_history_visited):
	* embed/global-history.h:
	* src/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c: (history_site_visited_cb),
	(ephy_setup_history_notifiers), (bookmarks_added_cb),
	(bookmarks_removed_cb), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_favorites):
	* src/bookmarks/ephy-bookmarks.h:
	* src/ephy-favorites-menu.c: (ephy_favorites_menu_class_init),
	(ephy_favorites_menu_init), (ephy_favorites_menu_finalize_impl),
	(ephy_favorites_menu_set_property),
	(ephy_favorites_menu_get_property), (ephy_favorites_menu_new),
	(ephy_favorites_menu_set_path), (ephy_favorites_menu_rebuild),
	(ephy_favorites_menu_update), (ephy_favorites_menu_verb_cb):
	* src/ephy-favorites-menu.h:
	* src/ephy-window.c: (ephy_window_init),
	(update_favorites_control), (ephy_window_update_control):
	* src/ephy-window.h:
	* src/window-recent-history-menu.c:
	* src/window-recent-history-menu.h: some work on favorites,
	still not working quite well

2002-12-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb), (diff_keywords),
	(update_keywords), (keywords_entry_changed_cb), (bookmarks_filter),
	(keyword_node_selected_cb), (build_search_box),
	(ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init), (ephy_bookmarks_set_keyword):
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_set_browse_mode):
	* src/bookmarks/ephy-node-view.h: complete keyword implementation,
	still buggy

2002-12-14  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_finalize), (update_keywords),
	(keywords_entry_changed_cb), (search_entry_changed_cb),
	(build_search_box), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_add_keyword), (ephy_bookmarks_get_keyword),
	(ephy_bookmarks_set_keyword), (ephy_bookmarks_get_keywords):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-tree-model-node.c:
	(ephy_tree_model_node_get_column_type),
	(ephy_tree_model_node_get_value),
	(ephy_tree_model_node_column_get_type):
	* src/bookmarks/ephy-tree-model-node.h:
	* src/ephy-window.c: some work on keywords implementation,
	still not working

2002-12-13  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/epiphany.glade:
	* data/glade/prefs-dialog.glade:
	* data/ui/epiphany-ui.xml.in:
	* embed/downloader-view.c: (get_selected_row),
	(download_dialog_abort_cb):
	* src/Makefile.am:
	* src/ephy-tab.c: (ephy_tab_location_cb), (ephy_tab_title_cb):
	* src/ephy-window.c: (ephy_window_init), (ephy_window_finalize),
	(ephy_window_get_toolbar):
	* src/ephy-window.h:
	* src/history-dialog.c: (each_url_get_data_binder):
	* src/language-editor.c:
	(language_editor_remove_button_clicked_cb):
	* src/pdm-dialog.c: (cookies_treeview_selection_changed_cb),
	(action_treeview_selection_changed_cb),
	(pdm_dialog_remove_button_clicked_cb), (setup_action),
	(pdm_dialog_init),
	(pdm_dialog_cookies_properties_button_clicked_cb):
	* src/window-commands.c:
	* src/window-commands.h:
	* src/window-recent-history.c:
	* src/window-recent-history.h: some menu rehashing, remove recent
	history to be replaced by favourites. Fix all tree views.

2002-12-12  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/find-dialog.c: (impl_show): grab focus on the entry

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb), (update_prop_from_entry):

	Fix some memory corruption.

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* TODO:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_selected_cb), (update_prop_from_entry),
	(title_entry_changed_cb), (keywords_entry_changed_cb),
	(build_editing_table), (ephy_bookmarks_editor_construct):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_class_init),
	(ephy_node_view_selection_changed_cb), (ephy_node_view_construct):
	* src/bookmarks/ephy-node-view.h:

	Add ability to edit title and keywords (useless atm).

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Makefile.am:
	* README:
	* configure.in:
	* embed/mozilla/Makefile.am:
	* lib/Makefile.am:
	* po/.cvsignore:
	* po/POTFILES.in: 

	Make it pass distcheck.

	* src/ephy-tab.c: (ephy_tab_dom_mouse_down_cb):

	Reintroduce page load on url pasting.

2002-12-08  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_node_activated_cb),
	(ephy_bookmarks_editor_response_cb),
	(ephy_bookmarks_editor_construct), (ephy_bookmarks_editor_new):
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_save),
	(ephy_bookmarks_finalize), (ephy_bookmarks_add):
	* src/bookmarks/ephy-node-view.c:
	(ephy_node_view_row_activated_cb), (ephy_node_view_construct),
	(ephy_node_view_new), (ephy_node_view_init), (get_selection),
	(ephy_node_view_get_selection), (ephy_node_view_remove):
	* src/bookmarks/ephy-node-view.h:
	* src/bookmarks/ephy-tree-model-node.c: (ephy_tree_model_node_new):
	* src/ephy-shell.c: (ephy_shell_finalize):
	* src/window-commands.c: (window_cmd_bookmarks_edit):

	You can now at least add bookmarks to a list

2002-12-07  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h: remove some unused code,
	should build with mozilla head again

2002-12-06  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_class_init),
	(ephy_bookmarks_editor_construct), (ephy_bookmarks_editor_new),
	(ephy_bookmarks_editor_set_property),
	(ephy_bookmarks_editor_get_property), (ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_load),
	(ephy_bookmarks_init), (ephy_bookmarks_finalize),
	(ephy_bookmarks_add), (ephy_bookmarks_get_bookmarks):
	* src/bookmarks/ephy-bookmarks.h:
	* src/window-commands.c: (window_cmd_bookmarks_edit),
	(window_cmd_bookmarks_add_default): more bookmarks work

2002-12-05  Bastien Nocera <hadess@hadess.net>

	* src/ephy-main.c: (ephy_main_start): get the Bonobo warning go away and Ephy to
	just actually work

2002-12-05  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/mozilla/FilePicker.cpp: actually parent the file picker
	* src/Makefile.am:
	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_class_init), (ephy_bookmarks_editor_new),
	(ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_set_object_property),
	(ephy_bookmarks_editor_get_object_property),
	(ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-node-view.c: (ephy_node_view_set_property),
	(ephy_node_view_construct), (ephy_node_view_add_column),
	(ephy_node_view_init):
	* src/ephy-shell.c: (ephy_shell_init), (ephy_shell_get_bookmarks):
	* src/ephy-shell.h:
	* src/window-commands.c: (window_cmd_bookmarks_edit):
	more useless bookmarks work

2002-12-01  Marco Pesenti Gritti  <marco@it.gnome.org>

	* src/bookmarks/Makefile.am:
	* src/bookmarks/eggtreemodelfilter.c:
	* src/bookmarks/eggtreemodelfilter.h:
	* src/bookmarks/ephy-bookmarks-editor.c:
	* src/bookmarks/ephy-bookmarks-editor.h:
	* src/bookmarks/ephy-node-view.c:
	* src/bookmarks/ephy-node-view.h: more bookmarks work

2002-11-30  Marco Pesenti Gritti  <marco@it.gnome.org>

	* embed/ephy-embed.h:
	* embed/find-dialog.c: (find_dialog_go_next),
	(find_dialog_go_prev), (find_next_button_clicked_cb),
	(find_prev_button_clicked_cb), (find_entry_activate_cb):
	* embed/find-dialog.h:
	* embed/mozilla/EphyWrapper.cpp:
	* embed/mozilla/EphyWrapper.h:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed.cpp:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node-filter.c:
	* src/bookmarks/ephy-node-filter.h:
	* src/bookmarks/ephy-node.c: (ephy_node_class_init):
	* src/bookmarks/ephy-tree-model-node.c:
	* src/bookmarks/ephy-tree-model-node.h:
	* src/window-commands.c: fix dialog/typeahead find
	interaction. More infrastucture bookmarks work.

2002-11-29  Marco Pesenti Gritti  <marco@it.gnome.org>

	* lib/ephy-string.c:
	* lib/ephy-string.h: remove no more used helper
	* src/window-recent-history-menu.c:
	(ephy_window_recent_history_menu_rebuild): correctly
	encode xml strings

2002-11-28  Marco Pesenti Gritti  <marco@it.gnome.org>

	* configure.in:
	* lib/Makefile.am:
	* lib/ephy-string.c: (ephy_string_store_time_in_string),
	(ephy_string_time_to_string):
	* lib/ephy-string.h:
	* src/Makefile.am:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmarks.c:
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-node.c:
	* src/bookmarks/ephy-node.h:
	* src/ephy-shell.c:
	* src/history-dialog.c: (history_dialog_update_host_item),
	(history_dialog_update_url_item): some configure cleanups,
	some bookmarks architecture stuff. Credits to rhythmbox
	developers.

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/epiphany.schemas.in:
	* embed/ephy-embed-event.h:
	* embed/ephy-embed-persist.c: (ephy_embed_persist_new):
	* embed/ephy-embed-popup.c: (setup_element_menu),
	(setup_document_menu):
	* embed/mozilla/Makefile.am: fix favicons, remove mozilla-config.h
	and use the old hack. Damn we need a real fix for this.

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/glade/toolbar-editor.glade:
	* lib/toolbar/ephy-toolbar-editor.c: (update_arrows_sensitivity),
	(ephy_tb_editor_treeview_selection_changed_cb),
	(ephy_tb_editor_setup_treeview): fix arrows sensitivity in the
	toolbar editor

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* README: wrote
	* src/ephy-shell.c: (ephy_init_services): add the monitor on the
	right gconf dir
	* src/history-dialog.c: fix gcon paths

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/art/epiphany-secure.png:
	* data/art/epiphany-unsecure.png: resize to 18x18
	* configure.in:
	* embed/Makefile.am:
	* embed/mozilla/Makefile.am:
	* src/Makefile.am:
	* lib/Makefile.am:
	* lib/toolbar/Makefile.am:
	* lib/widgets/Makefile.am: enable werror
	* lib/ephy-file-helpers.c: missing includes
	* lib/widgets/ephy-location-entry.c: disable completion_to by default
	(ephy_location_entry_key_press_event_cb):
	* src/statusbar.c: (statusbar_set_security_state): really fix it

2002-11-27  Marco Pesenti Gritti  <marco@it.gnome.org>

	* data/GNOME_Epiphany_NautilusView.server.in:
	* data/epiphany.schemas.in:
	* data/glade/epiphany.glade:
	* data/ui/epiphany-ui.xml.in:
	* data/ui/nautilus-epiphany-view.xml.in:
	* embed/global-history.c: (history_save):
	* embed/mozilla/ContentHandler.cpp:
	* lib/ephy-file-helpers.c: (ephy_ensure_dir_exists):
	* lib/ephy-file-helpers.h:
	* src/ephy-shell.c: (ephy_shell_init):
	* src/history-dialog.c: (history_dialog_set_embedded):
	* src/pdm-dialog.c: (pdm_dialog_init):
	* src/session.c: (crashed_resume_dialog):
	* src/statusbar.c: (statusbar_set_security_state):
	Fix a few typos, get rid of mime handlers list,
	reimplement security icon

2002-11-26  Marco Pesenti Gritti  <marco@it.gnome.org>

	* Checked in initial codebase.
